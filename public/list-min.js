class IndexOutOfBoundsException extends Error{constructor(...t){super(...t)}}class NoSuchElementException extends Error{constructor(...t){super(...t)}}class List extends Array{constructor(...t){super(...t)}get size(){return this.length}get indices(){return Object.keys(this).map(t=>parseInt(t))}get lastIndex(){return this.length-1}contains(t){return this.includes(t)}containsAll(...t){return this.includesAll(...t)}get(t){return this[t]}subList(t,e){return this.slice(t,e)}first(t){if(!t)return this[0];{let e=this.firstOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}firstOrNull(t){if(!t)return this[0];for(let e of this)if(t(e))return e;return null}second(t){if(!t)return this[1];{let e=this.secondOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}secondOrNull(t){if(!t)return this[1];{let e=0;for(let r of this)if(t(r)){if(1===e)return r;e++}throw new NoSuchElementException("No such element")}}third(t){if(!t)return this[2];{let e=this.thirdOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}thirdOrNull(t){if(!t)return this[2];{let e=0;for(let r of this)if(t(r)){if(2===e)return r;e++}throw new NoSuchElementException("No such element")}}fourth(t){if(!t)return this[3];{let e=this.fourthOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}fourthOrNull(t){if(!t)return this[3];{let e=0;for(let r of this)if(t(r)){if(3===e)return r;e++}throw new NoSuchElementException("No such element")}}fifth(t){if(!t)return this[4];{let e=this.fifthOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}fifthOrNull(t){if(!t)return this[4];{let e=0;for(let r of this)if(t(r)){if(4===e)return r;e++}throw new NoSuchElementException("No such element")}}sixth(t){if(!t)return this[5];{let e=this.sixthOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}sixthOrNull(t){if(!t)return this[5];{let e=0;for(let r of this)if(t(r)){if(5===e)return r;e++}throw new NoSuchElementException("No such element")}}last(t){if(!t)return this[this.length-1];{let e=this.lastOrNull(t);if(null===e)throw new NoSuchElementException("No such element");return e}}lastOrNull(t){if(!t)return this[this.length-1];{let e=this.reverse();for(let r of e)if(t(r))return r;throw new NoSuchElementException("No such element")}}match(t,e){if(!t)return this[e-1];{let r=0;for(let i of this)if(t(i)){if(r===e-1)return i;r++}throw new NoSuchElementException("No such element")}}matchOrNull(t,e){if(!t)return this[e-1];{let r=0;for(let i of this)if(t(i)){if(r===e-1)return i;r++}return null}}firstNotNullOf(t){for(let e of this)if(e&&t(e))return t(e);throw new NoSuchElementException("No such element")}firstNotNullOfOrNull(t){for(let e of this)if(e&&t(e))return t(e);return null}halve(){let t=listOf(...this.slice(0,this.length/2)),e=listOf(...this.slice(this.length/2,this.length));return listOf(t,e)}firstHalf(){return this.halve().first()}secondHalf(){return this.halve().last()}drop(t){return this.slice(t)}dropLast(t){return this.slice(0,t)}take(t){return this.head(t)}takeLast(t){return this.tail(t)}takeWhile(t){let e=listOf(),r=!1;for(let i of this)if(t(i))e.push(i),r=!0;else{if(!r)continue;break}return e}takeLastWhile(t){let e=listOf(),r=!1;for(let i of this.reverse())if(t(i))e.push(i),r=!0;else{if(!r)continue;break}return e.reverse()}dropWhile(t){let e=!1,r=listOf();for(let i of this)t(i)&&!e?e=!0:r.push(i);return r}dropLastWhile(t){let e=!1,r=listOf();for(let i of this.reverse())t(i)&&!e?e=!0:r.push(i);return r.reverse()}elementAt(t){if(this[t])return this[t];let e=`Index out of bounds: ${t}`;throw new IndexOutOfBoundsException(e)}elementAtOrElse(t,e){return t<t.length?this[t]:e()}elementAtOrNull(t){return this[t]?this[t]:null}filterIsInstance(t){return this.filter(e=>e instanceof t)}filterIsInstanceTo(t,e){let r=this.filter(t=>t instanceof e);return new List(...t.concat(r))}filterNot(t){return this.filter(e=>!t(e))}filterNotNull(){return this.filter(t=>null!==t)}filterFirstNotNull(){let t=!1,e=listOf();for(let r of this){if(null==r&&!t){t=!0;continue}e.push(r)}return e}filterTruthy(){return this.filter(Boolean)}filterFalsy(){return this.filter(t=>!Boolean(t))}filterNotNullTo(t){let e=this.filterNotNull();return new List(...t.concat(e))}filterNotUndefined(){return this.filter(t=>void 0!==t)}filterTo(t,e){let r=this.filter(e);return new List(...t.concat(r))}filterNotTo(t,e){let r=this.filterNot(e);return new List(...t.concat(r))}flatten(t){return this.flat(t)}fold(t,e){return this.reduce(t,e)}joinTo(t,e="",r=""){return`${e}${this.join(t)}${r}`}async mapAsync(t){let e=listOf();for(let[r,i]of this.entries()){let n=await t(r,i);e.push(n)}return e}async forEachAsync(t){for(let[e,r]of this.entries())await t(e,r)}exclude(...t){return this.filter(e=>!t.includes(e))}distinct(){return new List(...new Set(this))}distinctBy(t){let e=listOf();for(let r of this){let i=!e.find(e=>t(r)==t(e));i&&e.push(r)}return e}unique(){return this.distinct()}toUpperCase(){return listOf(...this).map(t=>t.toUpperCase())}toLowerCase(){return listOf(...this).map(t=>t.toLowerCase())}sum(){return this.reduce((t,e)=>+t+e,0)}sumOf(t){let e=this.map(t);return e.sum()}product(){return this.reduce((t,e)=>t*e,1)}isEmpty(){return 0===this.length}isNotEmpty(){return this.length>0}chunked(t){let e=listOf();for(let r=0;r<this.length;r+=Math.abs(t))e.push(this.slice(r,r+Math.abs(t)));return e}includesAll(){let t=[...arguments].flat();for(let e of t)if(!this.includes(e))return!1;return!0}intersect(t){return this.intersection(t)}intersection(t){return t?t.filter(t=>this.includes(t)):null}difference(t){let e=listOf();return t.forEach(t=>{this.includes(t)||e.push(t)}),this.forEach(r=>{t.includes(r)||e.push(r)}),e}union(t){return new Set(this.intersect(t))}count(t){let e=0;return this.forEach((r,i)=>{t(r,i)&&e++}),e}maxOf(t){let e=this.map(t);return e.max()}minOf(t){let e=this.map(t);return e.min()}max(){return Math.max(...this)}min(){return Math.min(...this)}minmax(){return new List(this.min(),this.max())}minmaxOf(t){return new List(this.minOf(t),this.maxOf(t))}plus(...t){return this.concat(t)}minus(...t){return this.exclude(...t)}scan(t,e=0){let r=listOf();return this.reduce((e,i)=>{let n=t(e,i);return r.push(e),n},e),r}single(t){let e=this.filter(t);if(1!==e.length){let r=`No single element matches the given predicate Found: (${e.length})`;throw new NoSuchElementException(r)}return e.first()}singleOrNull(t){let e=this.filter(t);return 1!==e.length?null:e.first()}round(){return this.map(t=>Math.round(t))}ceil(){return this.map(t=>Math.ceil(t))}floor(){return this.map(t=>Math.floor(t))}none(t){if(!t)return 0===this.length;for(let e of this)if(t(e))return!1;return!0}includesObject(t){for(let e of this)if("object"==typeof e){if(t.equals(e))return!0}else if(e===t)return!0;return!1}delete(...t){return this.filter(e=>!t.includes(e))}random(){let t=Math.floor(Math.random()*this.length);return this[t]}sample(t,e=!0){let r=listOf();if(e)for(;r.length<t;){let i=Math.floor(Math.random()*this.length);r.push(this[i])}else{let n=listOf(...this);if(t>this.length){let s=`Sample size of '${t}' is greater than the array length of '${this.length}'`;throw Error(s)}for(;r.length<t;){let l=Math.floor(Math.random()*n.length),h=n[l];n=n.filter(t=>t!==h),r.push(h)}}return r}shuffled(){return this.map(t=>t).sort(()=>Math.random()-.5)}toBoolean(){return this.map(t=>Boolean(t))}all(t,e){return this.every(t,e)}any(t,e){return this.some(t,e)}groupBy(t){let e={},r=Array.from(new Set(this.map(t)));return r.forEach(r=>{e[r]=this.filter(e=>t(e)===r)}),e}groupByTo(t,e){let r=this.groupBy(e);return{...t,...r}}binarySearch(t,e=0,r=this.length){let i=Math.floor((r-e)/2+e);return t===this[i]?i:1===Math.abs(e-r)?null:t<this[i]?this.binarySearch(t,e,i):this.binarySearch(t,i,r)}binarySearchBy(t,e,r=0,i=this.length){let n=Math.floor((i-r)/2+r),s=e(this[n]);return t===s?this[n]:1===Math.abs(r-i)?null:t<s?this.binarySearchBy(t,e,r,n):this.binarySearchBy(t,e,n,i)}mapTo(t,e){let r=this.map(e);return new List(...t.concat(r))}mapNotNull(t){let e=listOf();for(let r=0;r<this.length;r++)if(null!==this[r]&&void 0!==this[r]){let i=t(this[r],r);e.push(i)}return e}mapNotNullTo(t,e){if(!Array.isArray(t))throw Error("Parameter 'destination' must be an Array or List");let r=listOf();for(let i=0;i<this.length;i++)if(null!==this[i]&&void 0!==this[i]){let n=e(this[i],i);r.push(n)}return new List(...t.concat(r))}mapWith(t){let e=new Map;for(let r=0;r<Math.min(this.length,t.length);r++)e.set(this[r],t[r]);return e}unzip(){}zip(t){let e=listOf();for(let r=0;r<Math.min(this.length,t.length);r++)e.push(listOf(this[r],t[r]));return e}pairWith(t){let e={};for(let r=0;r<Math.min(this.length,t.length);r++)e[this[r]]=t[r];return e}partition(t){let e=listOf(),r=listOf();for(let i of this)t(i)?e.push(i):r.push(i);return listOf(e,r)}repeat(t){let e=listOf();for(let r of listOf(0,t-1).range())e.push(...this);return e}sortBy(t){let e=this.map(t=>t);return e.sort((e,r)=>t(e)>t(r)?1:-1)}sortedBy(t){return this.sortBy(t)}sortByDescending(t){let e=this.map(t=>t);return e.sort((e,r)=>t(e)>t(r)?-1:1)}sortedByDescending(t){return this.sortByDescending(t)}sortNumbers(){return this.sort((t,e)=>t-e)}sortNumbersDescending(){return this.sort((t,e)=>e-t)}add(t){return this.push(t),this}mean(){return this.reduce((t,e)=>+t+e,0)/this.length}median(){let t=this.sort((t,e)=>t-e),e=Math.floor(t.length/2);return t[e]}mode(){let t={};for(let e=0;e<this.length;e++)t[this[e]]?t[this[e]]+=1:t[this[e]]=1;let r=Math.max(...Object.values(t));for(let[i,n]of Object.entries(t))if(n===r)return i}stdev(){let t=this.reduce((t,e)=>+t+e)/this.length;return Math.sqrt(this.map(e=>(e-t)**2).reduce((t,e)=>+t+e)/this.length)}filterOddNumbers(){return this.filter(t=>t%2==1)}filterEvenNumbers(){return this.filter(t=>t%2==0)}filterPrimeNumbers(){return this.filter(t=>{for(let e=2,r=Math.sqrt(t);e<=r;e++)if(t%e==0)return!1;return t>1})}counts(){let t={};for(let e=0;e<this.length;e++)this[e]in t?t[this[e]]=+t[this[e]]+1:t[this[e]]=1;return t}associate(t){let e={};for(let r of this)e[r]=t(r);return e}associateWith(t){let e=new Map;for(let r of this)e.set(r,t(r));return e}multiply(t){return this.map(e=>e*t)}divide(t){return this.map(e=>e/t)}power(t){return this.map(e=>e**t)}toFixed(t){return this.map(e=>e.toFixed(t))}toEnglish(){return this.map(t=>isNaN(t)?t:function t(e){let r={1:"One",2:"Two",3:"Three",4:"Four",5:"Five",6:"Six",7:"Seven",8:"Eight",9:"Nine",10:"Ten",11:"Eleven",12:"Twelve",13:"Thirteen",14:"Fourteen",15:"Fifteen",16:"Sixteen",17:"Seventeen",18:"Eighteen",19:"Nineteen",20:"Twenty",30:"Thirty",40:"Forty",50:"Fifty",60:"Sixty",70:"Seventy",80:"Eighty",90:"Ninety",100:"Hundred"},i=listOf("Thousand","Million","Billion","Trillion","Quadrillion","Quintrillion","Sextillion","Septillion","Octillion","Nonillion","Decillion"),n=Math.abs(e),[s,l]=n.toString().split("."),h=s.split("").reverse().toList().chunked(3);if(0===n)return"Zero";let u=(t,e)=>t.toString().slice(t.toString().length-e),o=h.map(t=>(function t(e){if(e<10)return r[parseInt(e)];let i=u(e,2),n=r[i];if(!n){let[s,l]=i.split(""),h=r[10*s]||"",o=r[l]||"";n=parseInt(i)>0?`${h} ${o}`:""}let f="",a;return e>=100?(f=Math.floor(e/100),`${a=`${r[f]} ${r[100*f/f]}${i>0?" and ":""}`}${n}`):n})(t.reverse().join(""))),f=(0>Math.sign(e)?"Minus ":"")+o.map((t,e)=>0===e?t:t?`${t} ${i[e-1]}`:void 0).filter(Boolean).reverse().join(", "),a=l&&l.split("").map(t=>"0"===t?"Zero":r[t]).join(" ");return l?`${f} Point ${a}`:f}(t))}replace(t,e){return this.map(r=>r===t?e:r)}range(){let t=this[0],e=this[1],r=listOf();for(let i=t;t<e?i<=e:i>=e;t<e?i++:i--)r.push(i);return r}exists(t){for(let e of this)if(t(e))return!0;return!1}head(t){return t?t>this.length?this:this.slice(0,t):[this[0]]}tail(t){return t?t>this.length?this:this.slice(this.length-t,this.length):[this[this.length-1]]}clear(){for(;this.length;)this.pop();return this}static isList(t){return t instanceof List}equals(t){if(this.length!==t.length)return!1;for(let e=0;e<this.length;e++)if(List.isList(this[e])&&List.isList(t[e])){if(!this[e].equals(t[e]))return!1}else if(this[e]!==t[e])return!1;return!0}}class Triple extends Array{constructor(t,e,r){Object.freeze(super(t,e,r))}get first(){return this[0]}get second(){return this[1]}get third(){return this[2]}toList(){return listOf(this[0],this[1],this[2])}}class Pair extends Array{constructor(t,e){Object.freeze(super(t,e))}get first(){return this[0]}get second(){return this[1]}toList(){return listOf(this[0],this[1])}}class Node{constructor(t=null,e=null,r=null){this.value=t,this.next=e,this.previous=r}}class LinkedList{constructor(){this.head=null,this.length=0}toString(){let t="",e=this.head;for(;e;)t=`${t}${e.value} -> `,e=e.next;return`${t}null`}static fromValues(...t){let e=new LinkedList;for(let r=t.length-1;r>=0;r--)e.insertAtHead(t[r]);return e}static fromList(t){return this.fromValues(...t)}toList(){let t=listOf(),e=this.head;for(;e;)t.push(e.value),e=e.next;return t}insertAtHead(t){let e=new Node(t,this.head);return this.head=e,this.length++,this}insertAtIndex(t,e){if(0===t)return this.insertAtHead(e);let r=this.getNodeByIndex(t-1);return null===r?null:(r.next=new Node(e,r.next),this.length++,this)}getNodeByIndex(t){if(t<0||t>=this.length)return null;let e=this.head;for(let r=0;r<t;r++)e=e.next;return e}getValueByIndex(t){if(t<0||t>=this.length)return null;let e=this.head;for(let r=0;r<t;r++)e=e.next;return e.value}removeHead(){this.head=this.head.next,this.length--}}class DoublyLinkedList{constructor(){this.head=new Node,this.length=0,this.tail=this.head}toString(){let t="",e=this.head;for(;e;)t=`${t}${e.value||null} <-> `,e=e.next;return`${t}null`}static fromValues(...t){let e=new DoublyLinkedList;for(let r=0;r<t.length;r++)e.insertAtHead(t[r]);return e}static fromList(t){return this.fromValues(...t)}toList(){let t=listOf(),e=this.head;for(;e;)t.push(e.value),e=e.next;return t.filterFirstNotNull()}insertAtHead(t){return this.append(t)}insertAtTail(t){return this.prepend(t)}append(t){let e=new Node(t);return this.tail.next=e,e.previous=this.tail,this.tail=e,this.length++,this}prepend(t){let e=new Node(t);return e.next=this.head,this.head.previous=e,this.head=e,this.length++,this}insert(t,e){return this.insertAtIndex(t,e)}insertAtIndex(t,e){if(!Number.isInteger(t)||t<0||t>this.length+1)throw Error(`Invalid index. Current length is ${this.length}`);if(0===t)return this.prepend(e),this;t===this.length&&this.append(e);let r=new Node(e),i=this.head;for(let n=0;n<t-1;n++)i=i.next;let s=i.next;return r.next=s,i.next=r,r.previous=i,s.previous=r,this.length++,this}remove(t){if(!Number.isInteger(t)||t<0||t>this.length+1)throw Error(`Invalid index. Current length is ${this.length}`);if(0===t)return this.head=this.head.next,this.head.previous=null,this.length--,this;if(t===this.length-1)return this.tail=this.tail.previous,this.tail.next=null,this.length--,this;let e=this.head;for(let r=0;r<t-1;r++)e=e.next;let i=e.next.next;return e.next=i,i.previous=e,this.length--,this}}function listOf(...t){return 1===t.length?new List(1).fill(...t):new List(...t)}function pairOf(t,e){if(2!==arguments.length)throw Error("Argument length of two expected");return new Pair(t,e)}function tripleOf(t,e,r){if(3!==arguments.length)throw Error("Argument length of three expected");return new Triple(t,e,r)}Array.prototype.toList=function(){return listOf(...this)},Set.prototype.toList=function(){return listOf(...this)},module.exports={listOf,pairOf,tripleOf,Pair,Triple,List,LinkedList,DoublyLinkedList};