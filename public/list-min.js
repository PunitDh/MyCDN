"use strict";var RoundingMode,__extends=this&&this.__extends||function(){var t=function(r,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])})(r,n)};return function(r,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=r}t(r,n),r.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),__awaiter=this&&this.__awaiter||function(t,r,n,e){return new(n||(n=Promise))(function(i,o){function u(t){try{l(e.next(t))}catch(r){o(r)}}function s(t){try{l(e.throw(t))}catch(r){o(r)}}function l(t){var r;t.done?i(t.value):((r=t.value)instanceof n?r:new n(function(t){t(r)})).then(u,s)}l((e=e.apply(t,r||[])).next())})},__generator=this&&this.__generator||function(t,r){var n,e,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function s(l){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(u=0)),u;)try{if(n=1,e&&(i=2&l[0]?e.return:l[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,l[1])).done)return i;switch(e=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return u.label++,{value:l[1],done:!1};case 5:u.label++,e=l[1],l=[0];continue;case 7:l=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){u=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){u.label=l[1];break}if(6===l[0]&&u.label<i[1]){u.label=i[1],i=l;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(l);break}i[2]&&u.ops.pop(),u.trys.pop();continue}l=r.call(t,u)}catch(h){l=[6,h],e=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([s,l])}}},__spreadArray=this&&this.__spreadArray||function(t,r,n){if(n||2===arguments.length)for(var e,i=0,o=r.length;i<o;i++)!e&&i in r||(e||(e=Array.prototype.slice.call(r,0,i)),e[i]=r[i]);return t.concat(e||Array.prototype.slice.call(r))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Queue=exports.Stack=exports.when=exports.Utils=exports.strOf=exports.mapOf=exports.tripleOf=exports.pairOf=exports.setOf=exports.emptyList=exports.listFrom=exports.listOf=exports.StringExtended=exports.DoublyLinkedList=exports.LinkedList=exports.Node=exports.Pair=exports.Triple=exports.deepEquals=exports.List=exports.RoundingMode=exports.NoSuchColumnError=exports.IllegalArgumentError=exports.NoSuchElementError=exports.IndexOutOfBoundsError=void 0;var IndexOutOfBoundsError=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return __extends(r,t),r}(Error);exports.IndexOutOfBoundsError=IndexOutOfBoundsError;var NoSuchElementError=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return __extends(r,t),r}(Error);exports.NoSuchElementError=NoSuchElementError;var IllegalArgumentError=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return __extends(r,t),r}(Error);exports.IllegalArgumentError=IllegalArgumentError;var NoSuchColumnError=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return __extends(r,t),r}(Error);exports.NoSuchColumnError=NoSuchColumnError,function(t){t[t.HALF_UP=0]="HALF_UP",t[t.HALF_DOWN=1]="HALF_DOWN",t[t.UP=2]="UP",t[t.DOWN=3]="DOWN"}(RoundingMode||(exports.RoundingMode=RoundingMode={}));var List=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,r)||this}return __extends(r,t),Object.defineProperty(r.prototype,"size",{get:function(){return this.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"indices",{get:function(){return listFrom(Object.keys(this).map(function(t){return parseInt(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastIndex",{get:function(){return this.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depth",{get:function(){return function t(n,e){void 0===e&&(e=0);for(var i=0,o=n;i<o.length;i++){var u=o[i];if(Array.isArray(u)||r.isList(u))return t(u,e+1)}return e}(this)},enumerable:!1,configurable:!0}),r.prototype.get=function(t,r){var n=t<0?this.length+t:t;return Object.keys(this).includes(String(n))?this[n]:null!=r?r:null},r.prototype.contains=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.some(function(r){return t.includes(r)})},r.prototype.containsAll=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.includesAll.apply(this,t)},r.prototype.subList=function(t,r){return listFrom(this.slice(t,r))},r.prototype.first=function(t){return this.match(t,1)},r.prototype.firstOrNull=function(t){return this.matchOrNull(t,1)},r.prototype.second=function(t){return this.match(t,2)},r.prototype.secondOrNull=function(t){return this.matchOrNull(t,2)},r.prototype.third=function(t){return this.match(t,3)},r.prototype.thirdOrNull=function(t){return this.matchOrNull(t,3)},r.prototype.fourth=function(t){return this.match(t,4)},r.prototype.fourthOrNull=function(t){return this.matchOrNull(t,4)},r.prototype.fifth=function(t){return this.match(t,5)},r.prototype.fifthOrNull=function(t){return this.matchOrNull(t,5)},r.prototype.sixth=function(t){return this.match(t,6)},r.prototype.sixthOrNull=function(t){return this.matchOrNull(t,6)},r.prototype.seventh=function(t){return this.match(t,7)},r.prototype.seventhOrNull=function(t){return this.matchOrNull(t,7)},r.prototype.eighth=function(t){return this.match(t,8)},r.prototype.eighthOrNull=function(t){return this.matchOrNull(t,8)},r.prototype.ninth=function(t){return this.match(t,9)},r.prototype.ninthOrNull=function(t){return this.matchOrNull(t,9)},r.prototype.tenth=function(t){return this.match(t,10)},r.prototype.tenthOrNull=function(t){return this.matchOrNull(t,10)},r.prototype.hundredth=function(t){return this.match(t,100)},r.prototype.hundredthOrNull=function(t){return this.matchOrNull(t,100)},r.prototype.last=function(t){return this.reversed().first(t)},r.prototype.lastOrNull=function(t){return this.reversed().firstOrNull(t)},r.prototype.match=function(t,r){if(void 0===r&&(r=1),!t)return this[r-1];for(var n=0,e=0;e<this.length;e++){var i=this[e];if(isMatch(t,i)){if(n===r-1)return i;n++}}throw new NoSuchElementError("No such element")},r.prototype.matchOrNull=function(t,r){if(void 0===r&&(r=1),!t)return this[r-1];for(var n=0,e=0;e<this.length;e++){var i=this[e];if(isMatch(t,i)){if(n===r-1)return i;n++}}return null},r.prototype.firstOfEach=function(){return this.nthOfEach(0)},r.prototype.lastOfEach=function(){return listFrom(this.map(function(t){if(r.isList(t)||Array.isArray(t))return t[t.length-1]}))},r.prototype.nthOfEach=function(t){return listFrom(this.map(function(r){return r[t]}))},r.prototype.joinWith=function(t,r,n){return void 0===r&&(r=""),void 0===n&&(n=""),"".concat(r).concat(this.join(t)).concat(n)},r.prototype.joinEach=function(t,r,n){return void 0===r&&(r=""),void 0===n&&(n=""),listFrom(this.map(function(e){return listFrom(e).joinWith(t,r,n)}))},r.prototype.splitEach=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=RegExp(t.join("|"),"gi");return listFrom(this.map(function(t){return listFrom(t.split(n))}))},r.prototype.trimEach=function(){return listFrom(this.map(function(t){return t.trim()}))},r.prototype.firstNotNull=function(t){void 0===t&&(t=!0);for(var r=0;r<this.length;r++){var n=this[r];if(t?null!=n:null!==n)return n}throw new NoSuchElementError("No such element")},r.prototype.firstNotNullOf=function(t){for(var r=0;r<this.length;r++){var n=this[r];if(n&&t(n))return t(n)}throw new NoSuchElementError("No such element")},r.prototype.firstNotNullOfOrNull=function(t){for(var r=0;r<this.length;r++){var n=this[r];if(n&&null!=t(n))return t(n)}return null},r.prototype.halve=function(t){void 0===t&&(t=!0);var r=t?Math.ceil(this.length/2):Math.floor(this.length/2),n=listFrom(this.slice(0,r)),e=listFrom(this.slice(r,this.length));return listOf(n,e)},r.prototype.firstHalf=function(t){void 0===t&&(t=!0);var n=this.halve(t);if(!r.isNoSuchElement(n))return this.halve(t).first();throw new NoSuchElementError},r.prototype.secondHalf=function(t){return void 0===t&&(t=!1),this.halve(t).last()},r.prototype.lastHalf=function(t){return void 0===t&&(t=!1),this.secondHalf(t)},r.prototype.drop=function(t){return listFrom(this.slice(t))},r.prototype.dropLast=function(t){return listFrom(this.slice(0,this.length-t))},r.prototype.take=function(t){return this.head(t)},r.prototype.takeLast=function(t){return this.tail(t)},r.prototype.takeWhile=function(t){for(var r=listOf(),n=!1,e=0;e<this.length;e++){var i=this[e];if(t(i))r.push(i),n=!0;else{if(!n)continue;break}}return r.toList()},r.prototype.takeLastWhile=function(t){for(var r=listOf(),n=!1,e=0,i=this.reversed();e<i.length;e++){var o=i[e];if(t(o))r.push(o),n=!0;else{if(!n)continue;break}}return r.reversed()},r.prototype.dropWhile=function(t){for(var r=!1,n=listOf(),e=0;e<this.length;e++){var i=this[e];(!t(i)||r)&&(r=!0,n.push(i))}return n},r.prototype.dropLastWhile=function(t){for(var r=!1,n=listOf(),e=this.reversed(),i=0,o=e;i<o.length;i++){var u=o[i];(!t(u)||r)&&(r=!0,n.unshift(u))}return n},r.prototype.elementAt=function(t){var r=t<0?this.length+t:t;if(void 0!==this[r])return this[r];var n="Index out of bounds: ".concat(t);throw new IndexOutOfBoundsError(n)},r.prototype.elementAtOrElse=function(t,r){var n=t<0?this.length+t:t;return void 0!==this[n]?this[n]:isFn(r)?r():r},r.prototype.elementAtOrNull=function(t){var r=t<0?this.length+t:t;return void 0!==this[r]?this[r]:null},r.prototype.ifEmpty=function(t){return this.isEmpty()?isFn(t)?t():t:this},r.prototype.ifNotEmpty=function(t){return this.isNotEmpty()?isFn(t)?t(this):t:this},r.prototype.add=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,e=t;n<e.length;n++){var i=e[n];this.push(i)}return this},r.prototype.delete=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,e=t;n<e.length;n++)for(var i=e[n],o=this.length;o>=0;o--)deepEquals(this[o],i)&&this.splice(o,1);return this},r.prototype.plus=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return listFrom(this.concat(t))},r.prototype.clear=function(){for(;this.length;)this.pop();return this},r.prototype.filterIsInstance=function(t){return t.name?listFrom(this.filter(function(r){return r instanceof t||typeof r===t.name.toLowerCase()})):this},r.prototype.filterIsInstanceTo=function(t,r){var n=this.filter(function(t){return t instanceof r});return listFrom(t.concat(n))},r.prototype.filterNot=function(t){return listFrom(this.filter(function(r){return!isMatch(t,r)}))},r.prototype.filterNotNull=function(){return listFrom(this.filter(function(t){return null!==t}))},r.prototype.filterNotNullish=function(){return listFrom(this.filter(function(t){return null!=t}))},r.prototype.filterFirstNotNull=function(){for(var t=!1,r=listOf(),n=0;n<this.length;n++){var e=this[n];if(null==e&&!t){t=!0;continue}r.push(e)}return r.toList()},r.prototype.filterTruthy=function(t){return void 0===t&&(t=!0),listFrom(this.filter(function(r){return t&&0===r||Boolean(r)}))},r.prototype.filterFalsy=function(t){return void 0===t&&(t=!1),listFrom(this.filter(function(r){return t?0!==r&&!Boolean(r):!Boolean(r)}))},r.prototype.filterNotNullTo=function(t){var r=this.filterNotNull();return listFrom(t.concat(r))},r.prototype.filterNotUndefined=function(){return listFrom(this.filter(function(t){return void 0!==t}))},r.prototype.filterTo=function(t,r){var n=this.filter(r);return listFrom(t.concat(n))},r.prototype.filterNotTo=function(t,r){var n=this.filterNot(r);return listFrom(t.concat(n))},r.prototype.flatten=function(t){return void 0===t&&(t=1/0),listFrom(this.flat(t))},r.prototype.compact=function(){return listFrom(this.filter(Boolean).filter(function(t){return""!==t}))},r.prototype.fold=function(t,r){if(!r&&0!==r)throw new IllegalArgumentError("Initial value must be specified");return this.reduce(t,r)},r.prototype.joinTo=function(t,r,n,e){if(void 0===n&&(n=""),void 0===e&&(e=""),!Array.isArray(t)){var i="Argument 'list' must be a type of Array or List. Found: ".concat(typeof t);throw new IllegalArgumentError(i)}return listFrom(t).add("".concat(n).concat(this.join(r)).concat(e)).toList()},r.prototype.mapAsync=function(t){return __awaiter(this,void 0,void 0,function(){var r,n,e,i,o,u,s;return __generator(this,function(l){switch(l.label){case 0:r=listOf(),n=0,e=this.entries(),l.label=1;case 1:if(!(n<e.length))return[3,4];return o=(i=e[n])[0],[4,t(u=i[1],o,this)];case 2:s=l.sent(),r.push(s),l.label=3;case 3:return n++,[3,1];case 4:return[2,r]}})})},r.prototype.forEachAsync=function(t){return __awaiter(this,void 0,void 0,function(){var r,n,e,i,o,u;return __generator(this,function(s){switch(s.label){case 0:for(n=0,r=[],e=this.entries();n<e.length;n++)o=(i=e[n])[0],u=i[1],r.push(t(u,o,this));return[4,Promise.all(r)];case 1:return s.sent(),[2]}})})},r.prototype.onEach=function(t){return this.forEach(t),this},r.prototype.exclude=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return listFrom(this.filter(function(r){return!t.includes(r)}))},r.prototype.distinct=function(){return this.unique()},r.prototype.distinctBy=function(t){for(var r=listOf(),n=function(n){r.find(function(r){return t(n)==t(r)})||r.push(n)},e=0;e<this.length;e++)n(this[e]);return r},r.prototype.unique=function(){return listFrom(Array.from(new Set(this)))},r.prototype.toUpperCase=function(){return listFrom(this.map(function(t){return t.toUpperCase()}))},r.prototype.capitalize=function(){return listFrom(this.map(function(t){return new StringExtended(t).capitalize()}))},r.prototype.toLowerCase=function(){return listFrom(this.map(function(t){return t.toLowerCase()}))},r.prototype.sum=function(t){return void 0===t&&(t=0),this.reduce(function(t,r){return+t+r},t)},r.prototype.sumOf=function(t,r){return(void 0===r&&(r=0),isFn(t))?listFrom(this.map(t)).sum(r):isString(t)?this.reduce(function(r,n){return+r+n[t]},r):null},r.prototype.product=function(t){return void 0===t&&(t=1),this.reduce(function(t,r){return t*r},t)},r.prototype.productOf=function(t,r){return(void 0===r&&(r=1),isFn(t))?listFrom(this.map(t)).product(r):isString(t)?this.reduce(function(r,n){return+r*n[t]},r):null},r.prototype.isEmpty=function(){return 0===this.length},r.prototype.isNotEmpty=function(){return this.length>0},r.prototype.chunked=function(t){for(var r=listOf(),n=0;n<this.length;n+=Math.abs(t))r.push(listFrom(this.slice(n,n+Math.abs(t))));return r},r.prototype.segment=function(t){var r=Math.ceil(this.length/t);return this.chunked(r)},r.prototype.includesAll=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,e=t;n<e.length;n++){var i=e[n];if(!this.includes(i))return!1}return!0},r.prototype.intersect=function(t){return this.intersection(t)},r.prototype.intersection=function(t){return listFrom(Array.from(new Set(this.filter(function(r){return t.includes(r)}))))},r.prototype.orderedDifference=function(t){if(!t||!(t instanceof Array))return null;for(var n=listOf(),e=r.longestFirst(this,listFrom(t)).length,i=0;i<e;i++)this[i]!==t[i]&&n.push({index:i,this:this[i],other:t[i]});return n},r.prototype.difference=function(t){var r=this;return t&&t instanceof Array?listFrom(Array.from(new Set(this.concat(t).filter(function(n){return!(r.includes(n)&&t.includes(n))})))):null},r.prototype.union=function(t){return listFrom(Array.from(new Set(__spreadArray(__spreadArray([],this,!0),t,!0))))},r.prototype.count=function(t){if(!t)return this.length;var r=0;return this.forEach(function(n,e){(isFn(t)?t(n,e):deepEquals(n,t))&&r++}),r},r.prototype.maxOf=function(t){return isFn(t)?listFrom(this.map(t)).max():isString(t)?listFrom(this.map(function(r){return r[t]})).max():0},r.prototype.maxBy=function(t,r){void 0===r&&(r=!1);var n=listFrom(this.map(t)).max();return r?listFrom(this.filter(function(r){return t(r)===n})):this.find(function(r){return t(r)===n})},r.prototype.minOf=function(t){return isFn(t)?listFrom(this.map(t)).min():isString(t)?listFrom(this.map(function(r){return r[t]})).min():null},r.prototype.minBy=function(t,r){void 0===r&&(r=!1);var n=listFrom(this.map(t)).min();return r?listFrom(this.filter(function(r){return t(r)===n})):this.find(function(r){return t(r)===n})},r.prototype.max=function(){return Math.max.apply(Math,this)},r.prototype.min=function(){return Math.min.apply(Math,this)},r.prototype.minmax=function(){return{min:this.min(),max:this.max()}},r.prototype.minmaxOf=function(t){return{min:this.minOf(t),max:this.maxOf(t)}},r.prototype.minmaxBy=function(t,r){void 0===r&&(r=!1);var n=this.minBy(t,r),e=this.maxBy(t,r);return e&&n?{min:n,max:e}:null},r.prototype.nthLargest=function(t,r){void 0===r&&(r=!1);var n=this.sortNumbersDescending();return r&&(n=n.distinct()),t<0?n[n.length+t]:n[t-1]},r.prototype.nthLargestOf=function(t,r){if(isFn(t)){var n=this.distinct().sort(function(r,n){return t(n)-t(r)});return r<0?n[n.length+r]:n[r-1]}if(isString(t)){var n=this.distinct().sort(function(r,n){return n[t]-r[t]});return r<0?n[n.length+r]:n[r-1]}return null},r.prototype.nthSmallest=function(t,r){void 0===r&&(r=!1);var n=this.sortNumbers();return r&&(n=n.distinct()),t<0?n[n.length+t]:n[t-1]},r.prototype.nthSmallestOf=function(t,r){if(isFn(t)){var n=this.distinct().sort(function(r,n){return t(r)-t(n)});return r<0?n[n.length+r]:n[r-1]}if(isString(t)){var n=this.distinct().sort(function(r,n){return r[t]-n[t]});return r<0?n[n.length+r]:n[r-1]}return null},r.prototype.minus=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.exclude.apply(this,t)},r.prototype.scan=function(t,r){var n=listOf(),e=this.reduce(function(r,e,i,o){var u=t(r,e,i,o);return n.push(r),u},r);return n.add(e)},r.prototype.single=function(t){var r=listFrom(this.filter(t));if(1!==r.length){var n="No single element matches the given predicate Found: (".concat(r.length,")");throw new NoSuchElementError(n)}return r.first()},r.prototype.singleOrNull=function(t){var r=listFrom(this.filter(t));return 1!==r.length?null:r.firstOrNull()},r.prototype.round=function(t,r){void 0===t&&(t=0),void 0===r&&(r=RoundingMode.HALF_UP);var n=Math.pow(10,t);return listFrom(this.map(function(t){var e;switch(r){case RoundingMode.HALF_UP:e=Math.sign(t)*Math.round(Math.abs(t)*n)/n;break;case RoundingMode.HALF_DOWN:e=Math.sign(t)*Math.floor(Math.abs(t)*n+.5)/n;break;case RoundingMode.UP:e=Math.ceil(t*n)/n;break;case RoundingMode.DOWN:e=Math.floor(t*n)/n;break;default:e=Math.round(t*n)/n}return e}))},r.prototype.ceil=function(t){return void 0===t&&(t=1),listFrom(this.map(function(r){return Math.ceil(r/t)*t}))},r.prototype.floor=function(t){return void 0===t&&(t=1),listFrom(this.map(function(r){return Math.floor(r/t)*t}))},r.prototype.none=function(t){if(!t)return 0===this.length;for(var r=0;r<this.length;r++)if(isMatch(t,this[r]))return!1;return!0},r.prototype.findDuplicates=function(){for(var t=listOf(),r=listOf(),n=function(n){for(var e=!1,i=0,o=t;i<o.length;i++)if(deepEquals(o[i],n)){e=!0;break}e?r.some(function(t){return deepEquals(t,n)})||r.add(n):t.add(n)},e=0;e<this.length;e++)n(this[e]);return r},r.prototype.indicesOf=function(t){for(var r=listOf(),n=0;n<this.length;n++)deepEquals(this[n],t)&&r.push(n);return r},r.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},r.prototype.sample=function(t,r){void 0===r&&(r=!0);var n=listOf();if(r)for(;n.length<t;){var e=Math.floor(Math.random()*this.length);n.push(this[e])}else{if(t>this.length){var i="Sample size '".concat(t,"' cannot be greater than list length '").concat(this.length,"'");throw new IllegalArgumentError(i)}for(var o=this.slice();n.length<t;){var e=Math.floor(Math.random()*o.length),u=o[e];o.splice(e,1),n.push(u)}}return n},r.prototype.shuffled=function(){return this.sort(function(){return Math.random()-.5})},r.prototype.toBoolean=function(){return listFrom(this.map(Boolean))},r.prototype.all=function(t,r){return void 0===r&&(r=void 0),this.every(t,r)},r.prototype.any=function(t,r){return void 0===r&&(r=void 0),this.some(t,r)},r.prototype.groupBy=function(t){var n=this,e={};if(isFn(t)){var i=r.from(new Set(this.map(t)));i.forEach(function(r){e[r]=listFrom(n.filter(function(n){return t(n)===r}))})}else if(isString(t)){var i=r.from(new Set(this.map(function(r){return r[t]})));i.forEach(function(r){e[r]=listFrom(n.filter(function(n){return n[t]===r}))})}return e},r.prototype.groupByTo=function(t,r){for(var n=this.groupBy(r),e=0,i=Object.keys(n);e<i.length;e++){var o=i[e];t.hasOwnProperty(o)?t[o]=listFrom(__spreadArray(__spreadArray([],t[o],!0),n[o],!0)):t[o]=n[o]}return t},r.prototype.binarySearch=function(t,r,n){void 0===r&&(r=0),void 0===n&&(n=this.length);var e=Math.floor((n-r)/2+r);return t===this[e]?e:1===Math.abs(r-n)?null:t<this[e]?this.binarySearch(t,r,e):this.binarySearch(t,e,n)},r.prototype.binarySearchBy=function(t,r,n,e){if(void 0===n&&(n=0),void 0===e&&(e=this.length),1===Math.abs(n-e))return null;var i=Math.floor((e-n)/2+n),o=isFn(r)?r(this[i]):this[i][r];return deepEquals(t,o)?i:t<o?this.binarySearchBy(t,r,n,i):this.binarySearchBy(t,r,i,e)},r.prototype.mapTo=function(t,r){var n=this.map(r);return listFrom(t.concat(n))},r.prototype.mapNotNull=function(t){return listFrom(this.filterNotNullish().map(t))},r.prototype.mapNotNullTo=function(t,r){if(!Array.isArray(t))throw new IllegalArgumentError("Parameter 'destination' must be an Array or a List");for(var n=listOf(),e=0;e<this.length;e++)if(null!==this[e]&&void 0!==this[e]){var i=r(this[e],e);n.push(i)}return listFrom(t.concat(n))},r.prototype.mapWith=function(t){for(var r=new Map,n=0,e=this.entries();n<e.length;n++){var i=e[n],o=i[0],u=i[1];r.set(u,t[o])}return r},r.prototype.toObject=function(){return Object.fromEntries(this)},r.prototype.toMap=function(){for(var t=new Map,r=0;r<this.length;r++)t.set(this[r][0],this[r][1]);return t},r.prototype.windowed=function(t,r,n){if(void 0===r&&(r=1),void 0===n&&(n=!1),t<1||r<1)throw new IllegalArgumentError("Both 'size' and 'step' must be greater than zero. Found: size ".concat(t," step ").concat(r));var e=listOf(),i=[0,t],o=i[0],u=i[1];do e.push(listFrom(this.slice(o,u))),o+=r,u+=r;while(n?o<this.length:u<=this.length);return e},r.prototype.unzip=function(){for(var t=listOf(),r=listOf(),n=0;n<this.length;n++){var e=this[n];isObject(e)?(t.push(Object.keys(e)[0]),r.push(Object.values(e)[0])):Array.isArray(e)&&(t.push(e[0]),r.push(e[1]))}return listOf(t,r)},r.prototype.zip=function(t,r){for(var n=listOf(),e=0,i=this.entries();e<i.length;e++){var o=i[e],u=o[0],s=o[1];r?n.push(r(s,t[u])):n.push(listOf(s,t[u]))}return n},r.prototype.pairWith=function(t){for(var r={},n=0;n<Math.min(this.length,t.length);n++)r[this[n]]=t[n];return r},r.prototype.partition=function(t){for(var r=listOf(),n=listOf(),e=0;e<this.length;e++){var i=this[e];isMatch(t,i)?r.push(i):n.push(i)}return listOf(r.toList(),n.toList())},r.prototype.repeat=function(t){void 0===t&&(t=1);for(var n=listOf(),e=0,i=r.range(0,t);e<i.length;e++)i[e],n.push.apply(n,this);return n},r.prototype.reversed=function(){return listFrom(__spreadArray([],this,!0).reverse())},r.prototype.search=function(t,r){return(void 0===r&&(r=!1),r)?listFrom(this.filter(function(r){return r.includes(t)})):listFrom(this.filter(function(r){return r.toLowerCase().includes(t.toLowerCase())}))},r.prototype.sortBy=function(t){return isFn(t)?this.sort(function(r,n){return t(r)>t(n)?1:-1}):isString(t)?this.sort(function(r,n){return r[t]>n[t]?1:-1}):this.sort()},r.prototype.sortedBy=function(t){return listFrom(this).sortBy(t)},r.prototype.sortByDescending=function(t){return listFrom(this.sortBy(t).reverse())},r.prototype.sortedByDescending=function(t){return listFrom(this).sortByDescending(t)},r.prototype.sortNumbers=function(){return this.sort(function(t,r){return t-r})},r.prototype.sortNumbersDescending=function(){return this.sort(function(t,r){return r-t})},r.prototype.average=function(){return this.mean()},r.prototype.mean=function(){return this.reduce(function(t,r){return+t+r},0)/this.length},r.prototype.median=function(){var t=listFrom(this).sort(function(t,r){return t-r});if(this.length%2==0){var r=[t.length/2-1,t.length/2],n=r[1];return listOf(t[r[0]],t[n]).mean()}return t[Math.floor(t.length/2)]},r.prototype.mode=function(){for(var t=this.counts(),r=listFrom(__spreadArray([],t.values(),!0)).max(),n=0,e=t.entries();n<e.length;n++){var i=e[n],o=i[0];if(i[1]===r)return o}},r.prototype.variance=function(){var t=this.mean();return this.map(function(r){return Math.pow(r-t,2)}).reduce(function(t,r){return+t+r})/this.length},r.prototype.stdev=function(){return Math.sqrt(this.variance())},r.prototype.filterOddNumbers=function(){return listFrom(this.filter(function(t){return t%2==1}))},r.prototype.filterEvenNumbers=function(){return listFrom(this.filter(function(t){return t%2==0}))},r.prototype.filterPrimeNumbers=function(){return listFrom(this.filter(function(t){for(var r=2,n=Math.sqrt(t);r<=n;r++)if(t%r==0)return!1;return t>1}))},r.prototype.counts=function(){for(var t=new Map,r=0;r<this.length;r++){for(var n=this[r],e=!1,i=0,o=t.keys();i<o.length;i++){var u=o[i];if(deepEquals(u,n)){t.set(u,t.get(u)+1),e=!0;break}}e||t.set(n,1)}return t},r.prototype.associate=function(t){for(var r={},n=0,e=this.entries();n<e.length;n++){var i=e[n],o=i[0],u=i[1];r[u]=t(u,o,this)}return r},r.prototype.associateBy=function(t){for(var r={},n=0;n<this.length;n++){var e=this[n];r[t(e)]=e}return r},r.prototype.associateWith=function(t){for(var r=new Map,n=0;n<this.length;n++){var e=this[n];r.set(e,t(e))}return r},r.prototype.prefix=function(t){return listFrom(this.map(function(r){return"".concat(t).concat(r)}))},r.prototype.postfix=function(t){return listFrom(this.map(function(r){return"".concat(r).concat(t)}))},r.prototype.multiplyBy=function(t){return Array.isArray(t)?listFrom(this.map(function(r,n){return r*(t[n]||1)})):listFrom(this.map(function(r){return r*t}))},r.prototype.divideBy=function(t){return Array.isArray(t)?listFrom(this.map(function(r,n){return r/(t[n]||1)})):listFrom(this.map(function(r){return r/t}))},r.prototype.power=function(t){return listFrom(this.map(function(r){return Math.pow(r,t)}))},r.prototype.toFixed=function(t){return listFrom(this.map(function(r){return r.toFixed(t)}))},r.prototype.toEnglish=function(){return listFrom(this.map(function(t){return Number.isNaN(t)?String(t):function t(r){var n={1:"One",2:"Two",3:"Three",4:"Four",5:"Five",6:"Six",7:"Seven",8:"Eight",9:"Nine",10:"Ten",11:"Eleven",12:"Twelve",13:"Thirteen",14:"Fourteen",15:"Fifteen",16:"Sixteen",17:"Seventeen",18:"Eighteen",19:"Nineteen",20:"Twenty",30:"Thirty",40:"Forty",50:"Fifty",60:"Sixty",70:"Seventy",80:"Eighty",90:"Ninety",100:"Hundred"},e=listOf("Thousand","Million","Billion","Trillion","Quadrillion","Quintrillion","Sextillion","Septillion","Octillion","Nonillion","Decillion"),i=Math.abs(r);if(0===i)return"Zero";var o,u=i.toString().split("."),s=u[0],l=u[1],h=(0>Math.sign(r)?"Minus ":"")+listFrom(s.split("")).reversed().chunked(3).map(function(t){return function t(r){if(r<10)return n[r];var e,i=(e=r).toString().slice(e.toString().length-2),o=n[Number(i)];if(!o){var u=i.split(""),s=u[0],l=u[1],h=n[10*Number(s)]||"",f=n[Number(l)]||"";o=parseInt(i)>0?"".concat(h," ").concat(f):""}var a,p="";return r>=100?(p=Math.floor(r/100).toString(),a="".concat(n[Number(p)]," ").concat(n[100*Number(p)/Number(p)]).concat(Number(i)>0?" and ":""),"".concat(a).concat(o)):o}(parseInt(t.reverse().join("")))}).map(function(t,r){return 0===r?t:t?"".concat(t," ").concat(e[r-1]):void 0}).filter(Boolean).reverse().join(", "),f=l&&l.split("").map(function(t){return"0"===t?"Zero":n[t]}).join(" ");return l?"".concat(h," Point ").concat(f):h}(t)}))},r.prototype.replace=function(t,r,n){void 0===n&&(n=-1);var e=0;return listFrom(this.map(function(i){return deepEquals(i,t)&&(e<n||n<0)?(e++,r):i}))},r.prototype.exists=function(t){for(var r=0;r<this.length;r++)if(isMatch(t,this[r]))return!0;return!1},r.prototype.head=function(t){return void 0===t&&(t=1),listFrom(t>this.length?this:this.slice(0,t))},r.prototype.tail=function(t){return void 0===t&&(t=1),listFrom(t>this.length?this:this.slice(this.length-t,this.length))},r.prototype.instanceTypes=function(t){return void 0===t&&(t=!1),listFrom(this.map(function(r){return isObject(r)&&!t?r.constructor.name:typeof r}))},r.prototype.isNumberList=function(){return this.every(function(t){return!Number.isNaN(t)})},r.isList=function(t){return t instanceof r},r.generateRandomNumbers=function(t){return void 0===t&&(t=1),listFrom(Array(t).fill(null).map(Math.random))},r.isNoSuchElement=function(t){return t instanceof NoSuchElementError},r.generateRandomIntegers=function(t,r,n){return void 0===t&&(t=1),void 0===r&&(r=Number.MIN_SAFE_INTEGER),void 0===n&&(n=Number.MAX_SAFE_INTEGER),listFrom(Array(t).fill(null).map(function(){return Math.floor(Math.random()*(n-r+1)+r)}))},r.longest=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,e=listOf(),i=0,o=t;i<o.length;i++){var u=o[i];u.length>n?(n=u.length,e.clear(),e.push(u)):u.length===n&&e.push(u)}return e.toList()},r.longestFirst=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t[0],e=0,i=t;e<i.length;e++){var o=i[e];o.length>n.length&&(n=o)}return n},r.prototype.longest=function(){for(var t=String(this[0]),r=0;r<this.length;r++){var n=this[r];String(n).length>t.length&&(t=n)}return t},r.prototype.longestFirst=function(){return r.longestFirst.apply(r,this)},r.prototype.longestLast=function(){return r.longestLast.apply(r,this)},r.longestLast=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t[0],e=0,i=t;e<i.length;e++){var o=i[e];o.length>=n.length&&(n=o)}return n},r.shortest=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t[0].length,e=listOf(),i=0,o=t;i<o.length;i++){var u=o[i];u.length<n?(n=u.length,e.clear(),e.push(u)):u.length===n&&e.push(u)}return e.toList()},r.shortestFirst=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t[0],e=0,i=t;e<i.length;e++){var o=i[e];o.length>n.length&&(n=o)}return n},r.shortestLast=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t[0],e=0,i=t;e<i.length;e++){var o=i[e];o.length>=n.length&&(n=o)}return n},r.range=function(t,r,n){if(void 0===n&&(n=1),isNaN(t)||isNaN(r)||isNaN(n))throw new IllegalArgumentError("Invalid range parameters");for(var e=listOf(),i=t;t<r?i<r:i>r;t<r?i+=n:i-=n)e.push(i);return e.toList()},r.repeat=function(t,r){return void 0===r&&(r=1),listFrom(Array(r).fill(null).map(function(){return isFn(t)?t():t}))},r.emptyList=function(){return listOf()},r.prototype.toArray=function(){return Array.from(this)},r.prototype.toList=function(){return listFrom(this)},r.prototype.toSet=function(){return new Set(this)},r.prototype.isLongerThan=function(t){return this.length>t.length},r.prototype.isShorterThan=function(t){return this.length<t.length},r.prototype.isEqualLengthTo=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 1===listFrom(t.map(function(t){return t.length})).add(this.length).toList().distinct().length},r.prototype.equals=function(t){return deepEquals(this,t)},r}(Array);function deepEquals(t,r,n){if(void 0===n&&(n=!1),t===r)return!0;if(typeof t!=typeof r)return!1;if("string"==typeof t&&"string"==typeof r&&n)return t.toLowerCase()===r.toLowerCase();if(null==t||null==r)return t===r;if("object"!=typeof t||"object"!=typeof r)return!1;var e=Object.keys(t),i=Object.keys(r);if(e.length!==i.length)return!1;for(var o=0,u=e;o<u.length;o++){var s=u[o];if(!(s in r))return!1;var l=t[s],h=r[s];if(isObject(l)&&isObject(h)){if(!deepEquals(l,h,n))return!1}else if(isString(l)&&isString(h)&&n){if(l.toLowerCase()!==h.toLowerCase())return!1}else if(l!==h)return!1}return!0}exports.List=List,exports.deepEquals=deepEquals;var Triple=function(t){function r(r,n,e){var i=t.call(this)||this;return i.push(r),i.push(n),i.push(e),Object.freeze(i),i}return __extends(r,t),Object.defineProperty(r.prototype,"first",{get:function(){return this[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"second",{get:function(){return this[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"third",{get:function(){return this[2]},enumerable:!1,configurable:!0}),r.prototype.toList=function(){return listOf(this[0],this[1],this[2])},r}(Array);exports.Triple=Triple;var Pair=function(t){function r(r,n){var e=t.call(this)||this;return e.push(r),e.push(n),Object.freeze(e),e}return __extends(r,t),Object.defineProperty(r.prototype,"first",{get:function(){return this[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"second",{get:function(){return this[1]},enumerable:!1,configurable:!0}),r.prototype.toList=function(){return listOf(this[0],this[1])},r}(Array);function isMatch(t,r){return isFn(t)?t(r):deepEquals(t,r)}function isFn(t){return"function"==typeof t}function isString(t){return"string"==typeof t||t instanceof String}function isKey(t){return"string"==typeof t||"number"==typeof t}function isNullOrUndefined(t){return null==t}function isObject(t){return Boolean(t)&&!Array.isArray(t)&&"object"==typeof t}exports.Pair=Pair;var Node=function t(r,n,e){void 0===r&&(r=null),void 0===n&&(n=null),void 0===e&&(e=null),this.value=r,this.next=n,this.previous=e};exports.Node=Node;var LinkedList=function(){function t(){this.head=null,this.length=0}return t.prototype.toString=function(){for(var t="",r=this.head;r;)t="".concat(t).concat(r.value," -> "),r=r.next;return"".concat(t,"null")},t.fromValues=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var e=new t,i=r.length-1;i>=0;i--)e.insertAtHead(r[i]);return e},t.fromList=function(t){return this.fromValues.apply(this,t)},t.prototype.toList=function(){for(var t=listOf(),r=this.head;r;)t.push(r.value),r=r.next;return t},t.prototype.insertAtHead=function(t){var r=new Node(t,this.head);return this.head=r,this.length++,this},t.prototype.insertAtIndex=function(t,r){if(0===t)return this.insertAtHead(r);var n=this.getNodeByIndex(t-1);return null===n?null:(n.next=new Node(r,n.next),this.length++,this)},t.prototype.getNodeByIndex=function(t){if(t<0||t>=this.length)return null;for(var r=this.head,n=0;n<t;n++)r=(null==r?void 0:r.next)||null;return r},t.prototype.getValueByIndex=function(t){if(t<0||t>=this.length)return null;for(var r=this.head,n=0;n<t;n++)r=(null==r?void 0:r.next)||null;return(null==r?void 0:r.value)||null},t.prototype.removeHead=function(){this.head&&(this.head=this.head.next,this.length--)},t}();exports.LinkedList=LinkedList;var DoublyLinkedList=function(){function t(){this.head=new Node,this.length=0,this.tail=this.head}return t.prototype.toString=function(){for(var t="",r=this.head;r;)t="".concat(t).concat(r.value||null," <-> "),r=r.next;return"".concat(t,"null")},t.fromValues=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var e=new t,i=0;i<r.length;i++)e.insertAtHead(r[i]);return e},t.fromList=function(t){return this.fromValues.apply(this,t)},t.prototype.toList=function(){for(var t=listOf(),r=this.head;r;)t.push(r.value),r=r.next;return t.filterFirstNotNull()},t.prototype.insertAtHead=function(t){return this.append(t)},t.prototype.insertAtTail=function(t){return this.prepend(t)},t.prototype.append=function(t){var r=new Node(t);return this.tail&&(this.tail.next=r,r.previous=this.tail,this.tail=r,this.length++),this},t.prototype.prepend=function(t){var r=new Node(t);return r.next=this.head,this.head&&(this.head.previous=r,this.head=r,this.length++),this},t.prototype.insert=function(t,r){return this.insertAtIndex(t,r)},t.prototype.insertAtIndex=function(t,r){if(!Number.isInteger(t)||t<0||t>this.length+1)throw new IllegalArgumentError("Invalid index. Current length is ".concat(this.length));if(0===t)return this.prepend(r),this;t===this.length&&this.append(r);var n=new Node(r),e=this.head;if(e){for(var i=0;i<t-1;i++)e=(null==e?void 0:e.next)||null;var o=(null==e?void 0:e.next)||null;n.next=o,e&&(e.next=n),n.previous=e,o&&(o.previous=n),this.length++}return this},t.prototype.remove=function(t){if(!Number.isInteger(t)||t<0||t>this.length+1)throw new IllegalArgumentError("Invalid index. Current length is ".concat(this.length));if(0===t)return this.head=(null===(r=this.head)||void 0===r?void 0:r.next)||null,this.head&&(this.head.previous=null),this.length--,this;if(t===this.length-1)return this.tail=(null===(n=this.tail)||void 0===n?void 0:n.previous)||null,this.tail&&(this.tail.next=null),this.length--,this;for(var r,n,e=this.head,i=0;i<t-1;i++)e=(null==e?void 0:e.next)||null;var o=(null==e?void 0:e.next)||null,u=(null==o?void 0:o.next)||null;return e&&(e.next=u),u&&(u.previous=e),this.length--,this},t}();exports.DoublyLinkedList=DoublyLinkedList;var StringExtended=function(t){function r(r){return t.call(this,r)||this}return __extends(r,t),r.compareJSON=function(t,r){if(!t||!r)return null;var n,e,i={},o={};try{if(isString(t))n=JSON.parse(t);else if("object"==typeof t)n=JSON.parse(JSON.stringify(t));else throw new IllegalArgumentError("Unable to parse");if(isString(r))e=JSON.parse(r);else if("object"==typeof r)e=JSON.parse(JSON.stringify(r));else throw new IllegalArgumentError("Unable to parse");(function t(r,n,e,i){for(var o=listFrom(Object.keys(r)),u=listFrom(Object.keys(n)),s=o.union(u),l=0,h=s;l<h.length;l++){var f=h[l],a=[r[f],n[f]],p=a[0],c=a[1];p!==c&&(p instanceof Array&&c instanceof Array?(e[f]=[],i[f]=[],t(p,c,e[f],i[f]),0===e[f].length&&delete e[f],0===i[f].length&&delete i[f]):"object"==typeof p&&"object"==typeof c?(e[f]={},i[f]={},t(p,c,e[f],i[f]),0===Object.keys(e[f]).length&&delete e[f],0===Object.keys(i[f]).length&&delete i[f]):(e[f]=p,i[f]=c))}})(n,e,i,o)}catch(u){if(u&&"object"==typeof u&&"message"in u&&"string"==typeof u.message)throw new IllegalArgumentError(u.message)}return listOf(i,o)},r.prototype.capitalize=function(t,r){void 0===t&&(t=[" ","-",":","_"]),void 0===r&&(r=" ");var n=RegExp(t.join("|"),"gi");return this.split(n).map(function(t){return(t[0]?t[0].toUpperCase():"")+t.slice(1).toLowerCase()}).join(r)},r}(String);function listOf(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new List,e=0,i=t;e<i.length;e++){var o=i[e];n.push(o)}return n}function listFrom(t){for(var r=new List,n=0,e=t;n<e.length;n++){var i=e[n];r.push(i)}return r}function emptyList(){return List.emptyList()}function setOf(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new Set(__spreadArray([],t,!0))}function pairOf(t,r){if(2!==arguments.length)throw new IllegalArgumentError("Argument length of two expected");return new Pair(t,r)}function tripleOf(t,r,n){if(3!==arguments.length)throw new IllegalArgumentError("Argument length of three expected");return new Triple(t,r,n)}function mapOf(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=new Map;if(!t.every(function(t){return t instanceof Pair}))throw new IllegalArgumentError("All elements must be instances of 'Pair'");return t.forEach(function(t){n.set(t.first,t.second)}),n}function strOf(t){return new StringExtended(t)}exports.StringExtended=StringExtended,exports.listOf=listOf,exports.listFrom=listFrom,exports.emptyList=emptyList,exports.setOf=setOf,exports.pairOf=pairOf,exports.tripleOf=tripleOf,exports.mapOf=mapOf,exports.strOf=strOf;var Utils=function(){function t(){}return t.uuid=function(){var t=listFrom("0123456789abcdef".split(""));return[8,4,4,4,12].map(function(r){return Array(r).fill(null).map(function(){return t.random()}).join("")}).join("-")},t}();function when(t,r){for(var n=Object.keys(r).filter(function(t){return"else"!==t}),e=0,i=n;e<i.length;e++){var o=i[e];if(String(o)===String(t))return"function"==typeof r[o]?r[o](t):r[o]}return r.else?"function"==typeof r.else?r.else(t):r.else:null}exports.Utils=Utils,exports.when=when;var Stack=function(){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.items=listOf();for(var n=0,e=t;n<e.length;n++){var i=e[n];this.items.unshift(i)}}return t.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,e=t;n<e.length;n++){var i=e[n];this.items.unshift(i)}},t.prototype.pop=function(){return this.items.shift()},t}();exports.Stack=Stack;var Queue=function(){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.items=listOf();for(var n=0,e=t;n<e.length;n++){var i=e[n];this.items.push(i)}}return t.prototype.pop=function(){return this.items.shift()},t.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,e=t;n<e.length;n++){var i=e[n];this.items.push(i)}},t}();exports.Queue=Queue;